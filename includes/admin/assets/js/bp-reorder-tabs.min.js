function bp_r_t_admin_bind(){$=jQuery.noConflict(),$("#frm_bp_r_t_a_screen .sortable").sortable(),$("#frm_bp_r_t_a_screen .sortable").disableSelection(),$("#frm_bp_r_t_a_screen .nav-list > li").each(function(){$(this).find(".subnav-list").length>0&&$(this).addClass("has-children").find(" > .drag-handle").append("<span class='dashicons dashicons-arrow-down'></span>")}),$("#frm_bp_r_t_a_screen .drag-handle > span").click(function(n){n.preventDefault(),$(this).toggleClass("dashicons-arrow-down").toggleClass("dashicons-arrow-up"),$parent=$(this).closest(".nav"),$parent.toggleClass("expanded").find(".subnav-list").slideToggle()});var n={dataType:"json",beforeSerialize:function(n){var e={},t=1;n.find(" > .sortable > li").each(function(n,r){if($el_outer=$(r),"undefined"!=$el_outer.data("navid")&&""!=$el_outer.data("navid")){var o={position:t,subnavs:{}},a=1;$el_outer.find(".sortable > li").each(function(n,e){var t={position:a};o.subnavs[$(e).data("navid")]=t,a++}),e[$el_outer.data("navid")]=o,t++}}),n.find("#config_data").val(json_encode(e))},beforeSubmit:function(n,e){e.find("div.updated").remove()},success:function(n){$(".wrap").find("h2").first().append("<div class='updated fade'><p><strong>"+n.message+"</strong></p></div>"),window.scrollTo(0,0)},error:function(){}};$("#frm_bp_r_t_a_screen").ajaxForm(n)}function json_encode(n){var e,t=this.window.JSON;try{if("object"==typeof t&&"function"==typeof t.stringify){if(e=t.stringify(n),void 0===e)throw new SyntaxError("json_encode");return e}var r=n,o=function(n){var e=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var e=t[n];return"string"==typeof e?e:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'},a=function(n,e){var t="",r="    ",i=0,s="",u="",f=0,c=t,d=[],l=e[n];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(n)),typeof l){case"string":return o(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(this.PHPJS_Resource&&l instanceof this.PHPJS_Resource||window.PHPJS_Resource&&l instanceof window.PHPJS_Resource)throw new SyntaxError("json_encode");if(t+=r,d=[],"[object Array]"===Object.prototype.toString.apply(l)){for(f=l.length,i=0;f>i;i+=1)d[i]=a(i,l)||"null";return u=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+c+"]":"["+d.join(",")+"]",t=c,u}for(s in l)Object.hasOwnProperty.call(l,s)&&(u=a(s,l),u&&d.push(o(s)+(t?": ":":")+u));return u=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+c+"}":"{"+d.join(",")+"}",t=c,u;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return a("",{"":r})}catch(i){if(!(i instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return this.php_js=this.php_js||{},this.php_js.last_error_json=4,null}}jQuery(document).ready(function(){bp_r_t_admin_bind()});